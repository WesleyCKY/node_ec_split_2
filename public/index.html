<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
  <script src="multiselect-dropdown.js" ></script>
  <script type="text/javascript" src="logic.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>飯局分帳系統</title>
</head>
<body>
  <h1>飯局分帳系統</h1>
  <div class="container">
    <div class="message" id="message-box"></div>
    <!-- <button class="btn btn-light" onclick="ms.innerHTML='<option value=1>New option 1</option><option selected value=2>New option 2</option><option value=3>New option 3</option>';ms.loadOptions()">Load new options</button> -->
    <div id="participants-input" class="input-group" style="display: block; width: 100%;">
      <label for="ms">選擇參與者</label>
      <select class="input-group" id="ms" name="ms"
              multiple multiselect-search="true" 
              multiselect-select-all="true"
              multiselect-hide-x="true"
              onchange="msOnchange(this.selectedOptions)">
      </select>
    </div>
    <div id="payer-input" class="input-group" style="display: none;">
      <label for="payer">選擇先墊付款人:</label>
      <select id="payer"></select>
      <label for="total-amount" style="margin-top: 20px;">輸入總金額:</label>
      <input type="number" id="total-amount" style="width: 91%" placeholder="例如: 500" min="0" step="0.01">
      <button onclick="setupPayment()">設置付款</button>
    </div>
    <div id="payment-inputs" class="input-group" style="display: none;">
      <h2>輸入每個人應該支付的金額：</h2>
      <div id="payment-list"></div>
      <button onclick="finalizePayment()">完成記錄</button>
    </div>
    <div id="status-section" class="summary" style="display: none;">
      <h2>分帳狀態</h2>
      <table id="results">
        <thead>
          <tr>
            <th>姓名</th>
            <th>應付金額</th>
            <th>支付狀態</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <h3 id="balance-status"></h3>
    </div>
  </div>
</body>
</html>